<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	
	<title>Web-5: Scaling Isomorphic Javascript Code</title>
	
	<meta name="description" content="My slides for FirstRound Capital CTO Summit 2011">
	<meta name="author" content="Charlie Robbins">
	<meta name="viewport" content="width=1024, user-scalable=no">
	
	<!-- Core and extension CSS files -->
	<link rel="stylesheet" href="deckjs/core/deck.core.css">
	<link rel="stylesheet" href="deckjs/extensions/navigation/deck.navigation.css">
	<link rel="stylesheet" href="deckjs/extensions/status/deck.status.css">
	<link rel="stylesheet" href="deckjs/extensions/hash/deck.hash.css">
	<link rel="stylesheet" href="deckjs/extensions/codemirror/deck.codemirror.css">
	<link rel="stylesheet" href="deckjs/extensions/codemirror/themes/elegant.css">
	<link rel="icon" type="image/png" href="img/favicon.png">
  
	<!-- Custom CSS just for this page -->
	<link rel="stylesheet" href="./css/horizontal-slide.css">
	<link rel="stylesheet" href="./css/slides.css">
	
	<script src="js/modernizr.custom.js"></script>
</head>

<body class="deck-container">
  
<div class="slide" id="title-slide">
	<h1>Scaling Isomorphic Javascript Code</h1>
	<img src="img/yo-dawg.jpg" id="title-meme" class="slide" />
</div>

<div class="slide" id="whoami-intro">
	<h1>require('whoami');</h1>
	<ul>
  	<li class="slide" id="like-seriously">
  		<strong>Like wtf?</strong>
  	</li>
	</ul>
</div>

<div class="slide" id="whoami">
	<h2>require('whoami');</h2>
	<ul>
		<li class="slide" id="whoami-nodejitsu">
			<h3>Co-Founder / CEO of Nodejitsu.</h3>
			<img src="img/header-logo-grey.png" style="float:left" />
			<img src="img/header-logotype.png" style="float:left;padding-top:50px" />
		</li>
		<li class="slide" id="whoami-node" style="float:clear">
			<h3>Involved with Node.js since v0.1.25.</h3>
			<p>~January 2010</p>
		</li>
		<li class="slide" id="whoami-oss">
		  <h3>If you use Node.js, you probably use a library I wrote or maintain.</h3>
		  <pre><code>npm install npmcount -g &amp;&amp; npmcount indexzero<br/>(...)<br/>info:   Total packages: 58<br/></code></pre>  
	</ul>
</div>

<div class="slide" id="require-flatiron">
  <h1>require('<a href="http://flatironjs.org">flatiron</a>');</h1>
</div>

<div class="slide" id="flatiron-philosophy">
  <h1>Build the best tools and the best systems will follow.</h1>
</div>

<div class="slide" id="flatiron-framework">
  <h2 class="flatiron"></h2>
  <h3>A full-stack web application development framework which packages these tools together to make <a href="http://blog.nodejitsu.com/scaling-isomorphic-javascript-code">isomorphic</a> and <a href="http://nodejs.org/docs/v0.6.0/api/streams.html">stream-based</a> application development easier.
</div>

<div class="slide" id="flatiron-concerns">
  <h2>require('flatiron').concerns;</h2>
  <h2>
    <ul>
      <li class="slide" id="flatiron-concerns-reusability">
        <h3>Reusability / Portability.</h3>
      </li>
      <li class="slide" id="flatiron-concerns-coupling">
        <h3>Decoupling.</h3>
      </li>
      <li class="slide" id="flatiron-concerns-logging">
        <h3>Extensibility.</h3>
      </li>
      <li class="slide" id="flatiron-concerns-config">
        <h3>Isomorphism.</h3>
      </li>
    </ul>
  </h2>
</div>

<div class="slide" id="define-isomorphic">
  <h2>require('isomorphic');</h2>
  <h3>Code is said to be <a href="http://www.merriam-webster.com/dictionary/isomorphic">Isomorphic</a> if it is possible to execute its API both on the server and in a browser.</h3>  
</div>

<div class="slide" id="isoreq">
  <h2>require('isomorphic').requirements;</h2>
  <ul>
    <li class="slide" id="isoreq-ephemeral-view">
      <h3>Is the view ephemeral (e.g. on the server) or long-lived (e.g. in the browser)?</h3>
    </li>
    <li class="slide" id="isoreq-reusable">
      <h3>Is the view reusable across different use-cases or scenarios?</h3>
    </li>
    <li class="slide" id="isoreq-markup">
      <h3>Should the view be annotated with application-specific tags or markup?</h3>
    </li>
    <li class="slide" id="isoreq-logic">
      <h3>Where should the bulk of the business logic reside? (in the model? in the controller?)</h3>
    </li>
    <li class="slide" id="isoreq-persist">
      <h3>How is the application state persisted or accessed? (i.e. AJAX or Websockets?)</h3>
    </li>
  </ul>
</div>

<div class="slide" id="iso-mvc">
  <h2>require('design-patterns').mvc;</h2>
  <div class="diagram">
    <img src="img/mvc.png" />
    <h3>Model-View-Controller</h3>
  </div>
</div>

<div class="slide" id="iso-model2">
  <h2>require('design-patterns').model2;</h2>
  <div class="diagram">
    <img src="img/model2-mvc.png" />
    <h3>Model2</h3>
  </div>
</div>

<div class="slide" id="iso-backbone">
  <h2>require('frameworks').backbone;</h2>
  <div class="diagram">
    <img src="img/backbone-mvc.png" />
    <h3>Model-View-Controller (from Backbone.js)</h3>
  </div>
</div>

<div class="slide" id="iso-ror">
  <h2>require('frameworks').rubyonrails;</h2>
  <div class="diagram">
    <img src="img/rails-model2-mvc.png" />
    <h3>Model2 (from Ruby on Rails)</h3>
  </div>
</div>

<div class="slide" id="iso-why">
  <h1><a href="#iso-why">None of these patterns</a> will work for Isomorphic code. <a href="#iso-why">Why?</a></h1>
</div>

<div class="slide" id="rvp-client">
  <h2>require('rvp').client;</h2>
  <div class="diagram">
    <img src="img/client-rvp.png" />
    <h3>Resource-View-Presenter (on the Client)</h3>
  </div>
</div>

<div class="slide" id="rvp-server">
  <h2>require('rvp').server;</h2>
  <div class="diagram">
    <img src="img/server-rvp.png" />
    <h3>Resource-View-Presenter (on the Server)</h3>
  </div>
</div>

<div class="slide" id="rvp-events">
  <h2>require('rvp').events;</h2>
  
  <div id="code" name="code" class="code" mode="javascript" theme="elegant" style="display: none;">
    var app = require('flatiron').app;

    app.on('some:namespaced:thing', function (arg1, arg2) {
      //
      // You application is a proxy for your models and views
      // to communicate through.
      //
    });
    
    app.emit('some:namespaced:thing', 'anywhere', 'in your app');
  </div>
</div>

<div class="slide" id="rvp-concerns">
  <h2>require('rvp').choices;</h2>
  <ul>
    <li class="slide" id="rvp-concerns1">
      <h3>Decouple the Model and View</h3>
    </li>
    <li class="slide" id="rvp-concerns2">
      <h3>Expect a thin View, and a heavy Presenter and Resource.</h3>
    </li>
    <li class="slide" id="rvp-concerns3">
      <h3>Prefer business logic in the Resource over the Presenter.
      </h3>
    </li>
    <li class="slide" id="rvp-concerns4">
      <h3>Allow for both ephemeral (i.e. static server-side views) and persistent Views (i.e. the DOM).</h3>
    </li>
    <li class="slide" id="rvp-concerns5">
      <h3>Prefer a Presenter over a ViewModel to preserve the purity of the Markup (i.e. HTML).</h3>
    </li>
    <li class="slide" id="rvp-concerns6">
      <h3>Assume a persistent Presenter and Model.</h3>
    </li>
  </ul>
</div>

<div class="slide" id="iso-what-why">
  <h1>So we know <a href="#iso-what-why">what</a> Isomorphic code is and <a href="#iso-what-why">why</a> it's important.</h1>
</div>

<div class="slide" id="iso-how">
  <h1>But <a href="#iso-how">how</a> do we make writing Isomorphic Javascript <a href="#iso-how">easy</a>?</h1>
</div>

<div class="slide" id="assume-ecma5">
  <h1>Assume <a href="http://kangax.github.com/es5-compat-table">ECMA5</a>.</h1>
  <ul>
  	<li class="slide" id="assume-ecma5-ie">
  		<strong>(Sorry Internet Explorer 8 and below)</strong>
  	</li>
	</ul>
</div>

<div class="slide" id="assume-build">
  <h1>Assume <a href="#build-tools">a build step</a>.</h1>
  <ul>
  	<li class="slide" id="assume-build-no">
  		<strong>(And that there is no silver bullet)</strong>
  	</li>
	</ul>
</div>

<div class="slide" id="build-tools">
  <h2>require('build-tools');</h2>
  <ul>
    <li class="slide" id="build-tools-code-surgeon">
      <h3>codesurgeon <pre><code>http://github.com/hij1nx/codesurgeon</code></pre></h3>
      <p>A unique Javascript build tool for Node.js, features precision code extraction.</p>
    </li>
    <li class="slide" id="build-tools-browser-build">
      <h3>browser-build <pre><code>http://github.com/learnboost/browser-build</code></pre></h3>
      <p>Write for node, compile for the browser.</p>
    </li>
    <li class="slide" id="build-tools-browserify">
      <h3>browserify <pre><code>http://github.com/substack/browserify</code></pre></h3>
      <p>Seemless browser-side require() for raw JS and npm modules. (Dual-sided script loaders anyone?)</p>
    </li>
    <li class="slide" id="build-tools-grunt">
      <h3>grunt <pre><code>http://github.com/cowboy/grunt</code></pre></h3>
      <p>A task-based command line build tool for JavaScript projects.</p>
    </li>
  </ul>
</div>

<div class="slide" id="assume-different">
  <h1>Assume <a href="#assume-different">Apps</a> are different from <a href="#assume-different">Libraries</a>.</h1>
</div>

<div class="slide" id="assume-choices">
  <h1><a href="#assume-choices">Recognize and plan</a> for the differences between the Client and Server.</h1>
</div>

<div class="slide" id="recognize-code">
  <h2>require('isomorphic').recognize;</h2>
  
  <div id="code" name="code" class="code" mode="javascript" theme="elegant" style="display: none;">
    //
    // What's wrong with this?
    //
    
    var fs = require('fs'),
        request = require('request');
    
    function uploadSomething() {
      fs.createReadStream('./some-file.mp4').pipe(
        request.post('http://my-awesome-website.com/upload')
      );
    }
  </div>
</div>

<div class="slide" id="decisions">
  <h1>We're working on it <a href="http://www.nodejitsu.com">everyday</a>. I promise.</h1>
</div>

<div class="slide" id="questions">
  <h1>require('<a href="#questions">questions</a>').ask(Date.now);</h1>
</div>

<div class="slide" id="open-source">
  <h2>require('open-source');</h2>
  <p>This presentation is Open Source software.</p>
  <ol>
    <li>
       All software is available under the MIT license. 
    </li>
    <li>
      All content is available under Creative Commons Share-Alike no-attribution commercial ok.
    </li>
    <li>
      Special thanks to Deck.js for making a killer open-source front-end: <a href="http://imakewebthings.github.com/deck.js">http://imakewebthings.github.com/deck.js</a>
    </li>
    
    <br/><br/>
    <h3><a href="http://web5.nodejitsu.com">http://web5.nodejitsu.com</a></h3>
  <ol>
</div>

<a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
<a href="#" class="deck-next-link" title="Next">&#8594;</a>

<p class="deck-status">
	<span class="deck-status-current"></span>
	/
	<span class="deck-status-total"></span>
</p>

<a href="." title="Permalink to this slide" class="deck-permalink">#</a>

<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js"></script>
<script>window.jQuery || document.write('<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.1.min.js">\x3C/script>')</script>-->
<script src="js/jquery.min.js"></script>

<!-- Deck Core and extensions -->
<script src="deckjs/core/deck.core.js"></script>
<script src="deckjs/extensions/status/deck.status.js"></script>
<script src="deckjs/extensions/navigation/deck.navigation.js"></script>
<script src="deckjs/extensions/hash/deck.hash.js"></script>
<script src="deckjs/extensions/codemirror/deck.codemirror.js"></script>

<!-- Specific to this page -->
<script type="text/javascript">
  $(function() {
  	$.deck('.slide');
  });
</script>

</body>
</html>
